---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - pyproject.toml
  - .env.example
  - .gitignore
  - src/__init__.py
  - src/core/__init__.py
  - src/core/config.py
  - src/api/__init__.py
  - src/models/__init__.py
autonomous: true

must_haves:
  truths:
    - "uv sync installs all dependencies without error"
    - "Settings class loads configuration from .env"
    - "Configuration validates required fields (database_url, redis_url)"
  artifacts:
    - path: "pyproject.toml"
      provides: "Project dependencies and metadata"
      contains: "fastapi"
    - path: "src/core/config.py"
      provides: "Pydantic Settings configuration"
      contains: "class Settings"
    - path: ".env.example"
      provides: "Environment variable template"
      contains: "DATABASE_URL"
  key_links:
    - from: "src/core/config.py"
      to: "pydantic_settings"
      via: "import"
      pattern: "from pydantic_settings import"
---

<objective>
Create project scaffolding with uv package management and Pydantic Settings configuration.

Purpose: Establish the project foundation that all subsequent plans depend on - dependencies, directory structure, and type-safe configuration from environment variables.

Output: Working Python project with uv, all dependencies installed, and Settings class that loads from .env.
</objective>

<execution_context>
@/Users/tungmbp1423/.claude/get-shit-done/workflows/execute-plan.md
@/Users/tungmbp1423/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize Python project with uv and install all dependencies</name>
  <files>pyproject.toml, .gitignore, .env.example, src/__init__.py, src/core/__init__.py, src/api/__init__.py, src/models/__init__.py</files>
  <action>
    1. Initialize project with `uv init` if pyproject.toml doesn't exist
    2. Add all Phase 1 dependencies:
       ```bash
       uv add fastapi[standard] sqlalchemy[asyncio] asyncpg alembic redis pgvector structlog sentry-sdk pydantic-settings orjson
       uv add --dev pytest pytest-asyncio httpx ruff mypy
       ```
    3. Create directory structure:
       - src/__init__.py (empty)
       - src/core/__init__.py (empty)
       - src/api/__init__.py (empty)
       - src/models/__init__.py (empty)
    4. Create .gitignore with Python defaults + .env, .venv, __pycache__, *.pyc, .mypy_cache, .pytest_cache, .ruff_cache
    5. Create .env.example with template variables:
       ```
       DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/rookie
       REDIS_URL=redis://localhost:6379/0
       SENTRY_DSN=
       ENVIRONMENT=development
       DEBUG=true
       ```
  </action>
  <verify>
    - `uv sync` completes without error
    - `ls src/core src/api src/models` shows __init__.py files
    - `.env.example` exists with all required variables
  </verify>
  <done>Project structure exists with all dependencies installable via uv</done>
</task>

<task type="auto">
  <name>Task 2: Create Pydantic Settings configuration</name>
  <files>src/core/config.py</files>
  <action>
    Create src/core/config.py with:
    1. Settings class using pydantic_settings.BaseSettings
    2. model_config with SettingsConfigDict:
       - env_file=".env"
       - env_file_encoding="utf-8"
       - case_sensitive=False
    3. Required fields:
       - database_url: str (PostgreSQL async URL)
       - redis_url: str = "redis://localhost:6379/0"
    4. Optional fields:
       - sentry_dsn: str | None = None
       - environment: str = "development"
       - debug: bool = False
    5. Singleton pattern: `settings = Settings()` at module level
    6. Add docstrings explaining each field's purpose
  </action>
  <verify>
    - `python -c "from src.core.config import settings; print(settings.redis_url)"` outputs redis URL
    - Copy .env.example to .env, run same command without error
  </verify>
  <done>Settings class loads from environment, validates required fields, provides typed access</done>
</task>

</tasks>

<verification>
1. `uv sync` installs all dependencies
2. `python -c "from src.core.config import settings"` imports without error
3. Project structure matches expected layout:
   ```
   src/
   ├── __init__.py
   ├── api/
   │   └── __init__.py
   ├── core/
   │   ├── __init__.py
   │   └── config.py
   └── models/
       └── __init__.py
   ```
</verification>

<success_criteria>
- pyproject.toml exists with all dependencies
- `uv sync` completes successfully
- Settings class can load from .env file
- All __init__.py files exist in src/, src/core/, src/api/, src/models/
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
